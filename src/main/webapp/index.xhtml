<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    template="/WEB-INF/templates/default.xhtml"
    xmlns:p="http://primefaces.org/ui">
    <ui:define name="content">
        <h1>Email Engine Admin</h1>

        <div class="input-container">
        
        <p:menubar>  
        <p:submenu label="Menu">
           <p:menuitem value="Templates" url="/templates.jsf" />
           <p:menuitem value="Targets" url="/targets.jsf" />
           <p:menuitem value="Batch Campaign" url="/template.jsf" />
           <p:menuitem value="Reporting" url="/reporting.jsf" />  
        </p:submenu>
        </p:menubar>

        
       <h2>Active Templates</h2>  
       <p:dataTable id="dataTable" var="_template" value="#{templatesL.templates}"
                 paginator="true" rows="10"
                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 rowsPerPageTemplate="5,10,15">
        <f:facet name="header">
            Templates
        </f:facet>
        
        <p:column>
            <f:facet name="header">
                <h:outputText value="EDIT" />
            </f:facet>
            <a href="#{request.contextPath}/edittemplate.jsf?t=#{_template.id}">Edit</a>
        </p:column>

        <p:column>
            <f:facet name="header">
                <h:outputText value="TEMPLATE ID" />
            </f:facet>
            <h:outputText value="#{_template.id}" />
        </p:column>

        <p:column>
            <f:facet name="header">
                <h:outputText value="From Name" />
            </f:facet>
            <h:outputText value="#{_template.fromname}" />
        </p:column>

        <p:column>
            <f:facet name="header">
                <h:outputText value="From Address" />
            </f:facet>
            <h:outputText value="#{_template.fromaddress}" />
        </p:column>

        <p:column>
            <f:facet name="header">
                <h:outputText value="Subject Line" />
            </f:facet>
            <h:outputText value="#{_template.subjectline}" />
        </p:column>
        </p:dataTable>        
        

  <h2>Active Targets</h2>  
  <p:dataTable id="dataTable" var="_target" value="#{targetList.targets}"
                 paginator="true" rows="10"
                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 rowsPerPageTemplate="5,10,15">
        <f:facet name="header">
            Targets
        </f:facet>
        
        <p:column>
            <f:facet name="header">
                <h:outputText value="EDIT" />
            </f:facet>
            <a href="#{request.contextPath}/edittarget.jsf?t=#{_target.id}">Edit</a>
        </p:column>

        <p:column>
            <f:facet name="header">
                <h:outputText value="TARGET ID" />
            </f:facet>
            <h:outputText value="#{_target.id}" />
        </p:column>

        <p:column>
            <f:facet name="header">
                <h:outputText value="Name" />
            </f:facet>
            <h:outputText value="#{_target.name}" />
        </p:column>

        <p:column>
            <f:facet name="header">
                <h:outputText value="Association" />
            </f:facet>
            <h:outputText value="#{_target.association}" />
        </p:column>

        <p:column>
            <f:facet name="header">
                <h:outputText value="Query Text" />
            </f:facet>
            <h:outputText value="#{_target.queryText}" />
        </p:column>
        </p:dataTable>              

        

        
    </div>
            
        
    </ui:define>
</ui:composition>
