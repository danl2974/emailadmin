<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:p="http://primefaces.org/ui"
    template="/WEB-INF/templates/default.xhtml">
    <ui:define name="content">

    <h:form id="form">
     <p:menubar>  
        <p:submenu label="Menu">
           <p:menuitem value="Home" url="/" />   
        </p:submenu>
     </p:menubar>
      
    <h1>Email Template Editor</h1>
    <h2>ID: <span style="color: #51a96d;">#{templateEditor.templateString}</span></h2>
    
    <h:panelGrid columns="2" cellpadding="5">
    <h:outputLabel for="domain" value="Domain: " />
    <p:inputText id="domain" value="#{templateEditor.domain}" />    
    <h:outputLabel for="fromname" value="From Name: " />
    <p:inputText id="fromname" value="#{templateEditor.fromname}" />
    <h:outputLabel for="fromaddress" value="From Address: " />
    <p:inputText id="fromaddress" value="#{templateEditor.fromaddress}" />
    <h:outputLabel for="subjectline" value="Subject Line: " />
    <p:inputText id="subjectline" value="#{templateEditor.subjectline}" />
    </h:panelGrid>
      
    <p:editor id="editor" value="#{templateEditor.creative}" height="500" width="775"/>  
  
    <h:panelGrid columns="1" style="margin-top:10px">  
        <p:commandButton id="submitButton" value="Save" update="savedisplay,display" oncomplete="PF('dlg').show()"  
                        icon="ui-icon-disk" actionListener="#{timestampBean.current}" />
         <h:outputText value="#{timestampBean.timestamp}" id="savedisplay" />                
    </h:panelGrid>
     
  
    <p:dialog header="Template ID #{templateEditor.templateString} Saved" widgetVar="dlg" showEffect="fade" hideEffect="fade" modal="true">
       <p:ajax event="close" listener="#{templateEditor.handleDialogClose}"/> 
      
        <h:outputText id="display" value="#{templateEditor.creative}" escape="false" />
    </p:dialog>  
  
    </h:form>
    
    
    
</ui:define>
</ui:composition>